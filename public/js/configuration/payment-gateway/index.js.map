{"version":3,"file":"js/configuration/payment-gateway/index.js","sources":["webpack:///resources/js/views/configuration/payment-gateway/index.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"page-titles\">\r\n            <div class=\"row\">\r\n                <div class=\"col-12 col-sm-6\">\r\n                    <h3 class=\"text-themecolor\">{{trans('finance.payment_gateway')}}</h3>\r\n                </div>\r\n                <div class=\"col-12 col-sm-6\">\r\n                    <div class=\"action-buttons pull-right\">\r\n                        <button class=\"btn btn-info btn-sm\" @click=\"$router.push('/dashboard')\"><i class=\"fas fa-home\"></i> <span class=\"d-none d-sm-inline\">{{trans('general.home')}}</span></button>\r\n                        <help-button @clicked=\"help_topic = 'configuration.payment_gateway'\"></help-button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"container-fluid\">\r\n            <div class=\"card\">\r\n                <div class=\"card-body p-4\">\r\n                    <form @submit.prevent=\"submit\" @keydown=\"configForm.errors.clear($event.target.name)\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12 col-md-4\">\r\n                                <div class=\"form-group\">\r\n\t                                <label class=\"custom-control custom-checkbox\">\r\n\t                                    <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.paypal\" name=\"paypal\">\r\n\t                                    <span class=\"custom-control-label\">Paypal</span>\r\n\t                                </label>\r\n                                </div>\r\n                                <template v-if=\"configForm.paypal\">\r\n                                    <div class=\"form-group\">\r\n                                        <label class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.paypal_mode\" name=\"paypal_mode\">\r\n                                            <span class=\"custom-control-label\">Paypal Live Mode</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"\">Paypal Client Id</label>\r\n                                        <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.paypal_client_id\" name=\"paypal_client_id\" placeholder=\"Paypal Client Id\">\r\n                                        <show-error :form-name=\"configForm\" prop-name=\"paypal_client_id\"></show-error>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"\">Paypal Client Secret</label>\r\n                                        <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.paypal_client_secret\" name=\"paypal_client_secret\" placeholder=\"Paypal Client Secret\">\r\n                                        <show-error :form-name=\"configForm\" prop-name=\"paypal_client_secret\"></show-error>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.paypal_charge_handling_fee\" name=\"paypal_charge_handling_fee\">\r\n                                            <span class=\"custom-control-label\">{{trans('finance.charge_gateway_handling_fee')}}</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <template v-if=\"configForm.paypal_charge_handling_fee\">\r\n                                        <div class=\"form-group\">\r\n                                            <label class=\"custom-control custom-checkbox\">\r\n                                                <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.paypal_fixed_handling_fee\" name=\"paypal_fixed_handling_fee\">\r\n                                                <span class=\"custom-control-label\">{{trans('finance.fixed_gateway_handling_fee')}}</span>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            <label for=\"\">{{trans('finance.gateway_handling_fee', {gateway : 'Paypal'})}}</label>\r\n                                            <div class=\"input-group\">\r\n                                                <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.paypal_handling_fee\" name=\"paypal_handling_fee\" :placeholder=\"trans('finance.gateway_handling_fee', {gateway : 'Paypal'})\">\r\n                                                <div class=\"input-group-append\">\r\n                                                    <span class=\"input-group-text\" v-if=\"configForm.paypal_fixed_handling_fee\">{{default_currency.symbol}}</span>\r\n                                                    <span class=\"input-group-text\" v-else>%</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <show-error :form-name=\"configForm\" prop-name=\"paypal_handling_fee\"></show-error>\r\n                                        </div>\r\n                                    </template>\r\n                                </template>\r\n                            </div>\r\n                            <div class=\"col-12 col-md-4\">\r\n                                <div class=\"form-group\">\r\n\t                                <label class=\"custom-control custom-checkbox\">\r\n\t                                    <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.stripe\" name=\"stripe\">\r\n\t                                    <span class=\"custom-control-label\">Stripe</span>\r\n\t                                </label>\r\n                                </div>\r\n                                <template v-if=\"configForm.stripe\">\r\n                                    <div class=\"form-group\">\r\n    \t                                <label class=\"custom-control custom-checkbox\">\r\n    \t                                    <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.stripe_mode\" name=\"stripe_mode\">\r\n    \t                                    <span class=\"custom-control-label\">Stripe Live Mode</span>\r\n    \t                                </label>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"\">Stripe Publishable Key</label>\r\n                                        <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.stripe_publishable_key\" name=\"stripe_publishable_key\" placeholder=\"Stripe Publishable Key\">\r\n                                        <show-error :form-name=\"configForm\" prop-name=\"stripe_publishable_key\"></show-error>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"\">Stripe Private Key</label>\r\n                                        <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.stripe_private_key\" name=\"stripe_private_key\" placeholder=\"Stripe Private Key\">\r\n                                        <show-error :form-name=\"configForm\" prop-name=\"stripe_private_key\"></show-error>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.stripe_charge_handling_fee\" name=\"stripe_charge_handling_fee\">\r\n                                            <span class=\"custom-control-label\">{{trans('finance.charge_gateway_handling_fee')}}</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <template v-if=\"configForm.stripe_charge_handling_fee\">\r\n                                        <div class=\"form-group\">\r\n                                            <label class=\"custom-control custom-checkbox\">\r\n                                                <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.stripe_fixed_handling_fee\" name=\"stripe_fixed_handling_fee\">\r\n                                                <span class=\"custom-control-label\">{{trans('finance.fixed_gateway_handling_fee')}}</span>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            <label for=\"\">{{trans('finance.gateway_handling_fee', {gateway : 'Stripe'})}}</label>\r\n                                            <div class=\"input-group\">\r\n                                                <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.stripe_handling_fee\" name=\"stripe_handling_fee\" :placeholder=\"trans('finance.gateway_handling_fee', {gateway : 'Stripe'})\">\r\n                                                <div class=\"input-group-append\">\r\n                                                    <span class=\"input-group-text\" v-if=\"configForm.stripe_fixed_handling_fee\">{{default_currency.symbol}}</span>\r\n                                                    <span class=\"input-group-text\" v-else>%</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <show-error :form-name=\"configForm\" prop-name=\"stripe_handling_fee\"></show-error>\r\n                                        </div>\r\n                                    </template>\r\n                                </template>\r\n                            </div>\r\n                            <div class=\"col-12 col-md-4\">\r\n                                <div class=\"form-group\">\r\n\t                                <label class=\"custom-control custom-checkbox\">\r\n\t                                    <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.razorpay\" name=\"razorpay\">\r\n\t                                    <span class=\"custom-control-label\">Razorpay</span>\r\n\t                                </label>\r\n                                </div>\r\n                                <template v-if=\"configForm.razorpay\">\r\n                                    <div class=\"form-group\">\r\n    \t                                <label class=\"custom-control custom-checkbox\">\r\n    \t                                    <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.razorpay_mode\" name=\"razorpay_mode\">\r\n    \t                                    <span class=\"custom-control-label\">Razorpay Live Mode</span>\r\n    \t                                </label>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"\">Razorpay Key</label>\r\n                                        <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.razorpay_key\" name=\"razorpay_key\" placeholder=\"Razorpay Key\">\r\n                                        <show-error :form-name=\"configForm\" prop-name=\"razorpay_key\"></show-error>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label for=\"\">Razorpay Secret</label>\r\n                                        <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.razorpay_secret\" name=\"razorpay_secret\" placeholder=\"Razorpay Secret\">\r\n                                        <show-error :form-name=\"configForm\" prop-name=\"razorpay_secret\"></show-error>\r\n                                    </div>\r\n                                    <div class=\"form-group\">\r\n                                        <label class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.razorpay_charge_handling_fee\" name=\"razorpay_charge_handling_fee\">\r\n                                            <span class=\"custom-control-label\">{{trans('finance.charge_gateway_handling_fee')}}</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <template v-if=\"configForm.razorpay_charge_handling_fee\">\r\n                                        <div class=\"form-group\">\r\n                                            <label class=\"custom-control custom-checkbox\">\r\n                                                <input type=\"checkbox\" class=\"custom-control-input\" value=\"1\" v-model=\"configForm.razorpay_fixed_handling_fee\" name=\"razorpay_fixed_handling_fee\">\r\n                                                <span class=\"custom-control-label\">{{trans('finance.fixed_gateway_handling_fee')}}</span>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div class=\"form-group\">\r\n                                            <label for=\"\">{{trans('finance.gateway_handling_fee', {gateway : 'Razorpay'})}}</label>\r\n                                            <div class=\"input-group\">\r\n                                                <input class=\"form-control\" type=\"text\" value=\"\" v-model=\"configForm.razorpay_handling_fee\" name=\"razorpay_handling_fee\" :placeholder=\"trans('finance.gateway_handling_fee', {gateway : 'Razorpay'})\">\r\n                                                <div class=\"input-group-append\">\r\n                                                    <span class=\"input-group-text\" v-if=\"configForm.razorpay_fixed_handling_fee\">{{default_currency.symbol}}</span>\r\n                                                    <span class=\"input-group-text\" v-else>%</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <show-error :form-name=\"configForm\" prop-name=\"razorpay_handling_fee\"></show-error>\r\n                                        </div>\r\n                                    </template>\r\n                                </template>\r\n                            </div>\r\n                        </div>\r\n                        <button type=\"submit\" class=\"btn btn-info waves-effect waves-light pull-right m-t-10\">{{trans('general.save')}}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n        components : { },\r\n        data() {\r\n            return {\r\n                configForm: new Form({\r\n                    config_type: '',\r\n                    paypal: 0,\r\n                    paypal_mode: 0,\r\n                    paypal_client_id: '',\r\n                    paypal_client_secret: '',\r\n                    paypal_charge_handling_fee: 0,\r\n                    paypal_fixed_handling_fee: 0,\r\n                    paypal_handling_fee: '',\r\n                    stripe: 0,\r\n                    stripe_mode: 0,\r\n                    stripe_publishable_key: '',\r\n                    stripe_private_key: '',\r\n                    stripe_charge_handling_fee: 0,\r\n                    stripe_fixed_handling_fee: 0,\r\n                    stripe_handling_fee: '',\r\n                    razorpay: 0,\r\n                    razorpay_mode: 0,\r\n                    razorpay_key: '',\r\n                    razorpay_secret: '',\r\n                    razorpay_charge_handling_fee: 0,\r\n                    razorpay_fixed_handling_fee: 0,\r\n                    razorpay_handling_fee: ''\r\n                },false),\r\n                default_currency: helper.getConfig('default_currency'),\r\n                help_topic: ''\r\n            }\r\n        },\r\n        mounted(){\r\n            if(!helper.hasPermission('access-configuration')){\r\n                helper.notAccessibleMsg();\r\n                this.$router.push('/home');\r\n            }\r\n\r\n            this.getConfiguration();\r\n        },\r\n        methods: {\r\n            getConfiguration(){\r\n                let loader = this.$loading.show();\r\n                axios.get('/api/configuration')\r\n                    .then(response => {\r\n                        this.configForm = helper.formAssign(this.configForm, response);\r\n                        loader.hide();\r\n                    }).catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                    });\r\n            },\r\n            submit(){\r\n                let loader = this.$loading.show();\r\n                this.configForm.config_type = 'payment_gateway';\r\n                this.configForm.post('/api/configuration')\r\n                    .then(response => {\r\n                        loader.hide();\r\n                        this.$store.dispatch('setConfig',{loaded: false});\r\n                        toastr.success(response.message);\r\n                    }).catch(error => {\r\n                        loader.hide();\r\n                        helper.showErrorMsg(error);\r\n                    });\r\n            }\r\n        }\r\n\t}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// resources/js/views/configuration/payment-gateway/index.vue"],"mappings":"AAwLA","sourceRoot":""}